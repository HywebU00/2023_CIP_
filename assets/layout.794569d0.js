import{p as U,aB as Z,aC as ee,aD as j,aE as k,O as F,aF as te,aG as oe,P as n,T as ae,a4 as ne,aH as z,aI as se,Q as M,R as ue,aJ as le}from"./index.6fd0f893.js";const E=Symbol.for("vuetify:layout"),X=Symbol.for("vuetify:layout-item"),N=1e3,ve=U({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),de=U({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function pe(y){var d;const u=Z(E);if(!u)throw new Error("[Vuetify] Could not find injected layout");const v=(d=y.id)!=null?d:`layout-item-${ee()}`,l=j("useLayoutItem");k(X,{id:v});const a=F(!1);te(()=>a.value=!0),oe(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:r}=u.register(l,{...y,active:n(()=>a.value?!1:y.active.value),id:v});return ae(()=>u.unregister(v)),{layoutItemStyles:i,layoutRect:u.layoutRect,layoutItemScrimStyles:r}}const ie=(y,u,v,l)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const r of y){const d=u.get(r),g=v.get(r),L=l.get(r);if(!d||!g||!L)continue;const h={...a,[d.value]:parseInt(a[d.value],10)+(L.value?parseInt(g.value,10):0)};i.push({id:r,layer:h}),a=h}return i};function fe(y){const u=Z(E,null),v=n(()=>u?u.rootZIndex.value-100:N),l=ne([]),a=z(new Map),i=z(new Map),r=z(new Map),d=z(new Map),g=z(new Map),{resizeRef:L,contentRect:h}=se(),q=n(()=>{var e;const t=new Map,s=(e=y.overlaps)!=null?e:[];for(const f of s.filter(o=>o.includes(":"))){const[o,c]=f.split(":");if(!l.value.includes(o)||!l.value.includes(c))continue;const m=a.get(o),S=a.get(c),w=i.get(o),R=i.get(c);!m||!S||!w||!R||(t.set(c,{position:m.value,amount:parseInt(w.value,10)}),t.set(o,{position:S.value,amount:-parseInt(R.value,10)}))}return t}),I=n(()=>{const t=[...new Set([...r.values()].map(e=>e.value))].sort((e,f)=>e-f),s=[];for(const e of t){const f=l.value.filter(o=>{var c;return((c=r.get(o))==null?void 0:c.value)===e});s.push(...f)}return ie(s,a,i,d)}),H=n(()=>!Array.from(g.values()).some(t=>t.value)),b=n(()=>I.value[I.value.length-1].layer),G=n(()=>({"--v-layout-left":M(b.value.left),"--v-layout-right":M(b.value.right),"--v-layout-top":M(b.value.top),"--v-layout-bottom":M(b.value.bottom),...H.value?void 0:{transition:"none"}})),x=n(()=>I.value.slice(1).map((t,s)=>{let{id:e}=t;const{layer:f}=I.value[s],o=i.get(e),c=a.get(e);return{id:e,...f,size:Number(o.value),position:c.value}})),T=t=>x.value.find(s=>s.id===t),O=j("createLayout"),B=F(!1);ue(()=>{B.value=!0}),k(E,{register:(t,s)=>{let{id:e,order:f,position:o,layoutSize:c,elementSize:m,active:S,disableTransitions:w,absolute:R}=s;r.set(e,f),a.set(e,o),i.set(e,c),d.set(e,S),w&&g.set(e,w);const V=le(X,O==null?void 0:O.vnode).indexOf(t);V>-1?l.value.splice(V,0,e):l.value.push(e);const D=n(()=>x.value.findIndex($=>$.id===e)),P=n(()=>v.value+I.value.length*2-D.value*2),W=n(()=>{const $=o.value==="left"||o.value==="right",A=o.value==="right",_=o.value==="bottom",K={[o.value]:0,zIndex:P.value,transform:`translate${$?"X":"Y"}(${(S.value?0:-110)*(A||_?-1:1)}%)`,position:R.value||v.value!==N?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!B.value)return K;const p=x.value[D.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const C=q.value.get(e);return C&&(p[C.position]+=C.amount),{...K,height:$?`calc(100% - ${p.top}px - ${p.bottom}px)`:m.value?`${m.value}px`:void 0,left:A?void 0:`${p.left}px`,right:A?`${p.right}px`:void 0,top:o.value!=="bottom"?`${p.top}px`:void 0,bottom:o.value!=="top"?`${p.bottom}px`:void 0,width:$?m.value?`${m.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),Y=n(()=>({zIndex:P.value-1}));return{layoutItemStyles:W,layoutItemScrimStyles:Y,zIndex:P}},unregister:t=>{r.delete(t),a.delete(t),i.delete(t),d.delete(t),g.delete(t),l.value=l.value.filter(s=>s!==t)},mainRect:b,mainStyles:G,getLayoutItem:T,items:x,layoutRect:h,rootZIndex:v});const J=n(()=>["v-layout",{"v-layout--full-height":y.fullHeight}]),Q=n(()=>({zIndex:v.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:J,layoutStyles:Q,getLayoutItem:T,items:x,layoutRect:h,layoutRef:L}}export{de as a,fe as c,ve as m,pe as u};
