import{bm as D,aG as g,a5 as F,Q as L,r as S,s as y,x as w,D as R,o as u,z as a,ac as B,F as k,A as m,q as f,aM as _}from"./index.813efbd8.js";import{a as q}from"./axios.3560a3fb.js";import{m as v}from"./storage.797a626a.js";import{c}from"./common.1eb19fe3.js";import{a as z,V as A}from"./VContainer.75955d87.js";import{V as h,a as s}from"./VRow.61279057.js";const l={ruleRequired:(t,e=null)=>!!t||"\u5FC5\u9808\u586B\u5BEB",ruleMinLength:(t,e,r=null)=>String(t).length>=e||`\u6700\u5C11\u8981${e}\u5B57\u5143`,ruleMaxLength:(t,e,r=null)=>String(t).length<=e||`\u6700\u591A${e}\u5B57\u5143`,ruleEmail:(t,e=null)=>!t||/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_.]+(\.\w{2,3})+$/.test(String(t))||"email\u683C\u5F0F\u6709\u8AA4",ruleTelephone:(t,e=null)=>!t||/^([0-9\\-])*$/.test(String(t))||`The ${e!=null?e:"field"} must be a valid phone number`,ruleDecimal:({v:t,label:e=null,decimalPlace:r=2,checkOverDecimalOnly:d=!0})=>{const o=new RegExp(`^(0|[1-9]\\d*)((\\.)${d?"?":""}\\d{${d?"0,":""}${r}})$`);return t&&!t.toString().replace(/\s/g,"").match(o)?`The ${e!=null?e:"field"} must be a valid decimal with ${r} fraction`:!0},ruleLessThan:(t,e,r=null)=>!t||!e||parseFloat(t)<parseFloat(e)||`The ${r!=null?r:"field"} must less than ${e}`,ruleGreaterThan:(t,e,r=null)=>!t||!e||parseFloat(t)>parseFloat(e)||`The ${r!=null?r:"field"} must greater than ${e}`,ruleNumber:(t,e=null)=>Number.isInteger(Number(t))||`The ${e!=null?e:"field"} must be a valid integer`,ruleBeforeDate:(t,e,r=null)=>!t||!e||t<e||`The ${r!=null?r:"field"} must before ${e}`,ruleAfterDate:(t,e,r=null)=>!t||!e||t>e||`The ${r!=null?r:"field"} must after ${e}`,ruleIs:(t,e,r=null)=>!t||!e||t===e||`The ${r!=null?r:"field"} must be ${e}`},Z={__name:"AccountForm",setup(t){const e=D(),r=v(),d=g({info:{}});d.info={fromDateMenu:null,fromDateVal:null,minDate:"2019-07-04",maxDate:"2019-08-30"};const o=g({valid:!1,data:{},fields:{}});F(()=>{o.fields={account:{label:"\u4F7F\u7528\u8005\u5E33\u865F",variant:"outlined",clearable:!0,hint:"\u8F38\u51653-15\u500B\u5B57\u5143",rules:[n=>l.ruleRequired(n),n=>l.ruleMinLength(n,3),n=>l.ruleMaxLength(n,15)]},name:{modelValue:"",label:"\u59D3\u540D",variant:"outlined",clearable:!0,hint:"\u4E2D\u6587\u59D3\u540D",rules:[n=>l.ruleRequired(n),n=>l.ruleMinLength(n,2),n=>l.ruleMaxLength(n,30)]},email:{label:"Email",variant:"outlined",clearable:!0,hint:"userid@hyweb.com.tw",rules:[n=>l.ruleRequired(n),n=>l.ruleEmail(n)]},regDate:{label:"\u5230\u8077\u65E5",variant:"outlined",clearable:!0,format:"yyyy/MM/dd",position:"left",hint:"\u586B\u5BEB\u5230\u8077\u65E5",rules:[n=>l.ruleRequired(n)]}},T(),console.log("onBeforeMount")}),L(()=>{c.doLog("route ",e)});const M=()=>{c.doLog("handleSubmit",dataObj)},x=()=>{},T=()=>{r.doMask(!0);let n="/accountInfo.json";V.fetch(n,{uid:e.params.userid}).then(i=>{c.doLog("init",i),o.data=i,r.doMask(!1),c.doLog("init",i)})},V={async fetch(n,i){return new Promise(p=>{setTimeout(()=>{q.post(n,i).then(function($){p($.data)}).catch(function($){console.log($)})},500)})}};return(n,i)=>(S(),y(k,null,[w("h1",null,"\u5E33\u865F\u65B0\u589E"+R(n.$route.params.userid),1),u(z,{ref:"dataForm",modelValue:o.valid,"onUpdate:modelValue":i[0]||(i[0]=p=>o.valid=p),"validate-on":"submit",onSubmit:B(M,["prevent"])},{default:a(()=>[u(A,null,{default:a(()=>[u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f(o.fields.account,{modelValue:o.data.id}),null,16,["modelValue"])]),_:1}),u(s,{cols:"12"},{default:a(()=>[u(m,f(o.fields.name,{modelValue:o.data.name}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f({type:"email"},o.fields.email,{modelValue:o.data.email}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f({type:"date"},o.fields.regDate,{modelValue:o.data.regDate}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(_,{type:"submit",text:"\u9001\u51FA",color:"success",size:"default",location:"center"}),u(_,{type:"button",text:"\u53D6\u6D88",color:"info",onClick:x,size:"default",location:"center"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])],64))}};export{Z as default};
