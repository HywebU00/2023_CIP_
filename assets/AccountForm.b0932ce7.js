import{bm as L,a as g,af as D,o as S,L as y,N as F,O as R,W as w,G as u,Q as a,am as B,T as k,R as m,K as f,X as _}from"./index.28174274.js";import{a as N}from"./axios.3560a3fb.js";import{m as q}from"./storage.2597a317.js";import{c}from"./common.1eb19fe3.js";import{V as v}from"./VForm.5f4c6f7a.js";import{V as E,a as h,b as s}from"./VRow.8a210f99.js";const l={ruleRequired:(t,e=null)=>!!t||"\u5FC5\u9808\u586B\u5BEB",ruleMinLength:(t,e,n=null)=>String(t).length>=e||`\u6700\u5C11\u8981${e}\u5B57\u5143`,ruleMaxLength:(t,e,n=null)=>String(t).length<=e||`\u6700\u591A${e}\u5B57\u5143`,ruleEmail:(t,e=null)=>!t||/^[a-zA-Z0-9-_.]+@[a-zA-Z0-9-_.]+(\.\w{2,3})+$/.test(String(t))||"email\u683C\u5F0F\u6709\u8AA4",ruleTelephone:(t,e=null)=>!t||/^([0-9\\-])*$/.test(String(t))||`The ${e!=null?e:"field"} must be a valid phone number`,ruleDecimal:({v:t,label:e=null,decimalPlace:n=2,checkOverDecimalOnly:d=!0})=>{const o=new RegExp(`^(0|[1-9]\\d*)((\\.)${d?"?":""}\\d{${d?"0,":""}${n}})$`);return t&&!t.toString().replace(/\s/g,"").match(o)?`The ${e!=null?e:"field"} must be a valid decimal with ${n} fraction`:!0},ruleLessThan:(t,e,n=null)=>!t||!e||parseFloat(t)<parseFloat(e)||`The ${n!=null?n:"field"} must less than ${e}`,ruleGreaterThan:(t,e,n=null)=>!t||!e||parseFloat(t)>parseFloat(e)||`The ${n!=null?n:"field"} must greater than ${e}`,ruleNumber:(t,e=null)=>Number.isInteger(Number(t))||`The ${e!=null?e:"field"} must be a valid integer`,ruleBeforeDate:(t,e,n=null)=>!t||!e||t<e||`The ${n!=null?n:"field"} must before ${e}`,ruleAfterDate:(t,e,n=null)=>!t||!e||t>e||`The ${n!=null?n:"field"} must after ${e}`,ruleIs:(t,e,n=null)=>!t||!e||t===e||`The ${n!=null?n:"field"} must be ${e}`},Z={__name:"AccountForm",setup(t){const e=L(),n=q(),d=g({info:{}});d.info={fromDateMenu:null,fromDateVal:null,minDate:"2019-07-04",maxDate:"2019-08-30"};const o=g({valid:!1,data:{},fields:{}});D(()=>{o.fields={account:{label:"\u4F7F\u7528\u8005\u5E33\u865F",variant:"outlined",clearable:!0,hint:"\u8F38\u51653-15\u500B\u5B57\u5143",rules:[r=>l.ruleRequired(r),r=>l.ruleMinLength(r,3),r=>l.ruleMaxLength(r,15)]},name:{modelValue:"",label:"\u59D3\u540D",variant:"outlined",clearable:!0,hint:"\u4E2D\u6587\u59D3\u540D",rules:[r=>l.ruleRequired(r),r=>l.ruleMinLength(r,2),r=>l.ruleMaxLength(r,30)]},email:{label:"Email",variant:"outlined",clearable:!0,hint:"userid@hyweb.com.tw",rules:[r=>l.ruleRequired(r),r=>l.ruleEmail(r)]},regDate:{label:"\u5230\u8077\u65E5",variant:"outlined",clearable:!0,format:"yyyy/MM/dd",position:"left",hint:"\u586B\u5BEB\u5230\u8077\u65E5",rules:[r=>l.ruleRequired(r)]}},V(),console.log("onBeforeMount")}),S(()=>{c.doLog("route ",e)});const M=()=>{c.doLog("handleSubmit",dataObj)},T=()=>{},V=()=>{n.doMask(!0);let r="/accountInfo.json";x.fetch(r,{uid:e.params.userid}).then(i=>{c.doLog("init",i),o.data=i,n.doMask(!1),c.doLog("init",i)})},x={async fetch(r,i){return new Promise(p=>{setTimeout(()=>{N.post(r,i).then(function($){p($.data)}).catch(function($){console.log($)})},500)})}};return(r,i)=>(y(),F(k,null,[R("h1",null,"\u5E33\u865F\u65B0\u589E"+w(r.$route.params.userid),1),u(v,{ref:"dataForm",modelValue:o.valid,"onUpdate:modelValue":i[0]||(i[0]=p=>o.valid=p),"validate-on":"submit",onSubmit:B(M,["prevent"])},{default:a(()=>[u(E,null,{default:a(()=>[u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f(o.fields.account,{modelValue:o.data.id}),null,16,["modelValue"])]),_:1}),u(s,{cols:"12"},{default:a(()=>[u(m,f(o.fields.name,{modelValue:o.data.name}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f({type:"email"},o.fields.email,{modelValue:o.data.email}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(m,f({type:"date"},o.fields.regDate,{modelValue:o.data.regDate}),null,16,["modelValue"])]),_:1})]),_:1}),u(h,null,{default:a(()=>[u(s,{cols:"12"},{default:a(()=>[u(_,{type:"submit",text:"\u9001\u51FA",color:"success",size:"default",location:"center"}),u(_,{type:"button",text:"\u53D6\u6D88",color:"info",onClick:T,size:"default",location:"center"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])],64))}};export{Z as default};
